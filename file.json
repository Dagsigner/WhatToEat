{"openapi":"3.1.0","info":{"title":"WhatToEat API","version":"0.1.0"},"paths":{"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"Login","description":"Authenticate user via Telegram. Public endpoint.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramAuthData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login/admin":{"post":{"tags":["auth"],"summary":"Login Admin","description":"Authenticate admin via username/password. Public endpoint.","operationId":"login_admin_api_v1_auth_login_admin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["auth"],"summary":"Refresh","description":"Refresh access token. Public endpoint.","operationId":"refresh_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","description":"Logout user. Requires authentication.","operationId":"logout_api_v1_auth_logout_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/LogoutRequest"},{"type":"null"}],"title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/logout/admin":{"post":{"tags":["auth"],"summary":"Logout Admin","description":"Logout admin. Requires admin authentication.","operationId":"logout_admin_api_v1_auth_logout_admin_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/LogoutRequest"},{"type":"null"}],"title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me":{"get":{"tags":["users"],"summary":"Get Me","description":"Get current user profile.","operationId":"get_me_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]},"patch":{"tags":["users"],"summary":"Update Me","description":"Update current user profile.","operationId":"update_me_api_v1_users_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/admin":{"get":{"tags":["users"],"summary":"List Users Admin","description":"List all users with pagination. Admin only.","operationId":"list_users_admin_api_v1_users_admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in username/first_name/last_name","title":"Search"},"description":"Search in username/first_name/last_name"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_UserAdminResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/admin":{"get":{"tags":["users"],"summary":"Get User Admin","description":"Get a user by id. Admin only.","operationId":"get_user_admin_api_v1_users__user_id__admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["users"],"summary":"Create User Admin","description":"Create a new user. Admin only.","operationId":"create_user_admin_api_v1_users__user_id__admin_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["users"],"summary":"Update User Admin","description":"Update a user. Admin only.","operationId":"update_user_admin_api_v1_users__user_id__admin_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User Admin","description":"Delete a user. Admin only.","operationId":"delete_user_admin_api_v1_users__user_id__admin_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/categories":{"get":{"tags":["categories"],"summary":"List Categories","description":"Get list of active categories with recipes count.","operationId":"list_categories_api_v1_categories_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in category title","title":"Query"},"description":"Search in category title"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryClientResponse"},"title":"Response List Categories Api V1 Categories Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/categories/admin":{"get":{"tags":["categories"],"summary":"List Categories Admin","description":"List all categories with pagination. Admin only.","operationId":"list_categories_admin_api_v1_categories_admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in title","title":"Search"},"description":"Search in title"},{"name":"slug","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by slug","title":"Slug"},"description":"Filter by slug"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_CategoryAdminResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["categories"],"summary":"Create Category Admin","description":"Create a new category. Admin only.","operationId":"create_category_admin_api_v1_categories_admin_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/categories/{category_id}/admin":{"get":{"tags":["categories"],"summary":"Get Category Admin","description":"Get a category by id. Admin only.","operationId":"get_category_admin_api_v1_categories__category_id__admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Category Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["categories"],"summary":"Update Category Admin","description":"Update a category. Admin only.","operationId":"update_category_admin_api_v1_categories__category_id__admin_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Category Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["categories"],"summary":"Delete Category Admin","description":"Delete a category. Admin only.","operationId":"delete_category_admin_api_v1_categories__category_id__admin_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Category Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ingredients":{"get":{"tags":["ingredients"],"summary":"List Ingredients","description":"Get list of active ingredients with pagination.","operationId":"list_ingredients_api_v1_ingredients_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in title","title":"Search"},"description":"Search in title"},{"name":"slug","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by slug","title":"Slug"},"description":"Filter by slug"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_IngredientResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ingredients/admin":{"get":{"tags":["ingredients"],"summary":"List Ingredients Admin","description":"List all ingredients with pagination. Admin only.","operationId":"list_ingredients_admin_api_v1_ingredients_admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in title","title":"Search"},"description":"Search in title"},{"name":"slug","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by slug","title":"Slug"},"description":"Filter by slug"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_IngredientAdminResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["ingredients"],"summary":"Create Ingredient Admin","description":"Create a new ingredient. Admin only.","operationId":"create_ingredient_admin_api_v1_ingredients_admin_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngredientCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngredientAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ingredients/{ingredient_id}/admin":{"get":{"tags":["ingredients"],"summary":"Get Ingredient Admin","description":"Get an ingredient by id. Admin only.","operationId":"get_ingredient_admin_api_v1_ingredients__ingredient_id__admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ingredient_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Ingredient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngredientAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["ingredients"],"summary":"Update Ingredient Admin","description":"Update an ingredient. Admin only.","operationId":"update_ingredient_admin_api_v1_ingredients__ingredient_id__admin_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ingredient_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Ingredient Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngredientUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngredientAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["ingredients"],"summary":"Delete Ingredient Admin","description":"Delete an ingredient. Admin only.","operationId":"delete_ingredient_admin_api_v1_ingredients__ingredient_id__admin_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ingredient_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Ingredient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngredientDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ingredients/{ingredient_id}":{"get":{"tags":["ingredients"],"summary":"Get Ingredient","description":"Get an ingredient by id.","operationId":"get_ingredient_api_v1_ingredients__ingredient_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ingredient_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Ingredient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngredientResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recipes":{"get":{"tags":["recipes"],"summary":"List Recipes","description":"List active recipes with user flags.","operationId":"list_recipes_api_v1_recipes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by category","title":"Category Id"},"description":"Filter by category"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in title","title":"Search"},"description":"Search in title"},{"name":"slug","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by slug","title":"Slug"},"description":"Filter by slug"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_RecipeClientListResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recipes/admin":{"get":{"tags":["recipes"],"summary":"List Recipes Admin","description":"List all recipes with pagination. Admin only.","operationId":"list_recipes_admin_api_v1_recipes_admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in title","title":"Search"},"description":"Search in title"},{"name":"slug","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by slug","title":"Slug"},"description":"Filter by slug"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"},{"name":"category_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by category","title":"Category Id"},"description":"Filter by category"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_RecipeAdminListResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["recipes"],"summary":"Create Recipe Admin","description":"Create a new recipe. Admin only.","operationId":"create_recipe_admin_api_v1_recipes_admin_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recipes/{recipe_id}/admin":{"get":{"tags":["recipes"],"summary":"Get Recipe Admin","description":"Get a recipe by id. Admin only.","operationId":"get_recipe_admin_api_v1_recipes__recipe_id__admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recipe_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recipe Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["recipes"],"summary":"Update Recipe Admin","description":"Update a recipe. Admin only.","operationId":"update_recipe_admin_api_v1_recipes__recipe_id__admin_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recipe_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recipe Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["recipes"],"summary":"Delete Recipe Admin","description":"Delete a recipe. Admin only.","operationId":"delete_recipe_admin_api_v1_recipes__recipe_id__admin_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recipe_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recipe Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recipes/{recipe_id}":{"get":{"tags":["recipes"],"summary":"Get Recipe","description":"Get full recipe detail with user flags.","operationId":"get_recipe_api_v1_recipes__recipe_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recipe_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recipe Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recipes/{recipe_id}/favorite":{"post":{"tags":["recipes"],"summary":"Add Favorite","description":"Add recipe to favorites.","operationId":"add_favorite_api_v1_recipes__recipe_id__favorite_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recipe_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recipe Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteToggleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["recipes"],"summary":"Remove Favorite","description":"Remove recipe from favorites.","operationId":"remove_favorite_api_v1_recipes__recipe_id__favorite_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recipe_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recipe Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteToggleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recipes/{recipe_id}/history":{"post":{"tags":["recipes"],"summary":"Record History","description":"Record cooking history for a recipe.","operationId":"record_history_api_v1_recipes__recipe_id__history_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recipe_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recipe Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryToggleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/steps/admin":{"get":{"tags":["steps"],"summary":"List Steps Admin","description":"List all steps with pagination. Admin only.","operationId":"list_steps_admin_api_v1_steps_admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in title","title":"Search"},"description":"Search in title"},{"name":"slug","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by slug","title":"Slug"},"description":"Filter by slug"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_StepAdminResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["steps"],"summary":"Create Step Admin","description":"Create a new step. Admin only.","operationId":"create_step_admin_api_v1_steps_admin_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/steps/{step_id}/admin":{"get":{"tags":["steps"],"summary":"Get Step Admin","description":"Get a step by id. Admin only.","operationId":"get_step_admin_api_v1_steps__step_id__admin_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"step_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Step Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["steps"],"summary":"Update Step Admin","description":"Update a step. Admin only.","operationId":"update_step_admin_api_v1_steps__step_id__admin_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"step_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Step Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepAdminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["steps"],"summary":"Delete Step Admin","description":"Delete a step. Admin only.","operationId":"delete_step_admin_api_v1_steps__step_id__admin_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"step_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Step Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/upload":{"post":{"tags":["files"],"summary":"Upload File","description":"Upload an image file. Admin only.\n\nAccepts multipart/form-data with a file and optional entity_type query parameter.","operationId":"upload_file_api_v1_files_upload_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entity_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Entity type (recipe, step, etc.)","title":"Entity Type"},"description":"Entity type (recipe, step, etc.)"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_v1_files_upload_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images":{"get":{"tags":["images"],"summary":"List Images","description":"Get paginated list of images. Admin only.","operationId":"list_images_api_v1_images_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_ImageResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images/{image_id}":{"delete":{"tags":["images"],"summary":"Delete Image","description":"Delete an image by id. Admin only.","operationId":"delete_image_api_v1_images__image_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Image Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["system"],"summary":"Health Check","description":"Basic health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Health Get"}}}}}}}},"components":{"schemas":{"AdminLoginRequest":{"properties":{"username":{"type":"string","title":"Username","description":"Admin username"},"password":{"type":"string","title":"Password","description":"Admin password"}},"type":"object","required":["username","password"],"title":"AdminLoginRequest","description":"Request body for admin login."},"AdminLoginResponse":{"properties":{"user_id":{"type":"string","format":"uuid","title":"User Id"},"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"Bearer"},"expires_in":{"type":"integer","title":"Expires In"},"username":{"type":"string","title":"Username"}},"type":"object","required":["user_id","access_token","refresh_token","expires_in","username"],"title":"AdminLoginResponse","description":"Response for admin login."},"Body_upload_file_api_v1_files_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to upload"}},"type":"object","required":["file"],"title":"Body_upload_file_api_v1_files_upload_post"},"CategoryAdminResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"slug":{"type":"string","title":"Slug"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","title","slug","is_active","created_at","updated_at"],"title":"CategoryAdminResponse","description":"Admin category representation."},"CategoryClientResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"is_active":{"type":"boolean","title":"Is Active"},"recipes_count":{"type":"integer","title":"Recipes Count","default":0}},"type":"object","required":["id","title","is_active"],"title":"CategoryClientResponse","description":"Client category representation with recipes count."},"CategoryCreate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title","description":"Category name"},"slug":{"type":"string","maxLength":255,"title":"Slug","description":"URL-friendly slug"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether category is active","default":true}},"type":"object","required":["title","slug"],"title":"CategoryCreate","description":"Data required to create a category."},"CategoryDeleteResponse":{"properties":{"category_id":{"type":"string","format":"uuid","title":"Category Id"},"is_deleted":{"type":"boolean","title":"Is Deleted","default":true}},"type":"object","required":["category_id"],"title":"CategoryDeleteResponse","description":"Response for category deletion."},"CategoryResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"slug":{"type":"string","title":"Slug"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","title","slug","is_active","created_at","updated_at"],"title":"CategoryResponse","description":"Public category representation."},"CategoryUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Title"},"slug":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Slug"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"CategoryUpdate","description":"Fields allowed for category update (all optional)."},"FavoriteToggleResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"is_favorited":{"type":"boolean","title":"Is Favorited"}},"type":"object","required":["id","is_favorited"],"title":"FavoriteToggleResponse","description":"Response for favorite toggle."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HistoryToggleResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"is_in_history":{"type":"boolean","title":"Is In History"}},"type":"object","required":["id","is_in_history"],"title":"HistoryToggleResponse","description":"Response for cooking history recording."},"ImageResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"url":{"type":"string","title":"Url"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"},"content_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Type"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","url","filename","content_type","size","created_at","updated_at"],"title":"ImageResponse","description":"Image representation for list and detail."},"ImageUploadResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"url":{"type":"string","title":"Url"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"},"content_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Type"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","url","filename","content_type","size","created_at"],"title":"ImageUploadResponse","description":"Response for image upload."},"IngredientAdminResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"unit_of_measurement":{"type":"string","title":"Unit Of Measurement"},"slug":{"type":"string","title":"Slug"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","title","unit_of_measurement","slug","is_active","created_at","updated_at"],"title":"IngredientAdminResponse","description":"Admin ingredient representation — all fields."},"IngredientCreate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title","description":"Ingredient name"},"unit_of_measurement":{"type":"string","maxLength":50,"title":"Unit Of Measurement","description":"Unit of measurement"},"slug":{"type":"string","maxLength":255,"title":"Slug","description":"URL-friendly slug"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether ingredient is active","default":true}},"type":"object","required":["title","unit_of_measurement","slug"],"title":"IngredientCreate","description":"Data required to create an ingredient."},"IngredientDeleteResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"is_deleted":{"type":"boolean","title":"Is Deleted","default":true}},"type":"object","required":["id"],"title":"IngredientDeleteResponse","description":"Response for ingredient deletion."},"IngredientResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"unit_of_measurement":{"type":"string","title":"Unit Of Measurement"},"slug":{"type":"string","title":"Slug"}},"type":"object","required":["id","title","unit_of_measurement","slug"],"title":"IngredientResponse","description":"Client ingredient representation."},"IngredientUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Title"},"unit_of_measurement":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Unit Of Measurement"},"slug":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Slug"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"IngredientUpdate","description":"Fields allowed for ingredient update (all optional)."},"LoginResponse":{"properties":{"user_id":{"type":"string","format":"uuid","title":"User Id"},"tg_id":{"type":"integer","title":"Tg Id"},"tg_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tg Username"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"Bearer"},"expires_in":{"type":"integer","title":"Expires In"}},"type":"object","required":["user_id","tg_id","access_token","refresh_token","expires_in"],"title":"LoginResponse","description":"Response for Telegram login."},"LogoutRequest":{"properties":{"refresh_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token","description":"Refresh token to invalidate"}},"type":"object","title":"LogoutRequest","description":"Request body for logout (optional)."},"LogoutResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"LogoutResponse","description":"Response for logout."},"PaginatedResponse_CategoryAdminResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CategoryAdminResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[CategoryAdminResponse]"},"PaginatedResponse_ImageResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ImageResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[ImageResponse]"},"PaginatedResponse_IngredientAdminResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/IngredientAdminResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[IngredientAdminResponse]"},"PaginatedResponse_IngredientResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/IngredientResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[IngredientResponse]"},"PaginatedResponse_RecipeAdminListResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/RecipeAdminListResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[RecipeAdminListResponse]"},"PaginatedResponse_RecipeClientListResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/RecipeClientListResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[RecipeClientListResponse]"},"PaginatedResponse_StepAdminResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/StepAdminResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[StepAdminResponse]"},"PaginatedResponse_UserAdminResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/UserAdminResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"PaginatedResponse[UserAdminResponse]"},"RecipeAdminListResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"photo_url":{"type":"string","title":"Photo Url"},"protein":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Protein"},"fat":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Fat"},"carbs":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Carbs"},"prep_time":{"type":"integer","title":"Prep Time"},"cook_time":{"type":"integer","title":"Cook Time"},"difficulty":{"type":"string","title":"Difficulty"},"servings":{"type":"string","title":"Servings"},"slug":{"type":"string","title":"Slug"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","title","description","photo_url","protein","fat","carbs","prep_time","cook_time","difficulty","servings","slug","is_active","created_at","updated_at"],"title":"RecipeAdminListResponse","description":"Recipe list item for admin panel."},"RecipeClientListResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"slug":{"type":"string","title":"Slug"},"title":{"type":"string","title":"Title"},"photo_url":{"type":"string","title":"Photo Url"},"prep_time":{"type":"integer","title":"Prep Time"},"cook_time":{"type":"integer","title":"Cook Time"},"difficulty":{"type":"string","title":"Difficulty"},"servings":{"type":"string","title":"Servings"},"is_favorited":{"type":"boolean","title":"Is Favorited","default":false},"is_in_history":{"type":"boolean","title":"Is In History","default":false}},"type":"object","required":["id","slug","title","photo_url","prep_time","cook_time","difficulty","servings"],"title":"RecipeClientListResponse","description":"Recipe list item for client — lightweight."},"RecipeCreate":{"properties":{"title":{"type":"string","maxLength":500,"title":"Title","description":"Recipe title"},"photo_url":{"type":"string","maxLength":2048,"title":"Photo Url","description":"Photo URL"},"description":{"type":"string","title":"Description","description":"Recipe description"},"protein":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Protein"},"fat":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Fat"},"carbs":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Carbs"},"prep_time":{"type":"integer","minimum":0.0,"title":"Prep Time","description":"Preparation time in minutes"},"cook_time":{"type":"integer","minimum":0.0,"title":"Cook Time","description":"Cooking time in minutes"},"difficulty":{"type":"string","title":"Difficulty","description":"Difficulty: easy, medium, hard","default":"medium"},"servings":{"type":"string","maxLength":50,"title":"Servings","description":"Number of servings"},"slug":{"type":"string","maxLength":255,"title":"Slug","description":"URL-friendly slug"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether recipe is active","default":true},"ingredient_ids":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Ingredient Ids","description":"List of {ingredient_id, amount} dicts"},"category_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Category Ids","description":"List of category UUIDs to attach"}},"type":"object","required":["title","photo_url","description","prep_time","cook_time","servings","slug"],"title":"RecipeCreate","description":"Data required to create a recipe."},"RecipeDeleteResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"is_deleted":{"type":"boolean","title":"Is Deleted","default":true}},"type":"object","required":["id"],"title":"RecipeDeleteResponse","description":"Response for recipe deletion."},"RecipeDetailResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"photo_url":{"type":"string","title":"Photo Url"},"description":{"type":"string","title":"Description"},"protein":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Protein"},"fat":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Fat"},"carbs":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Carbs"},"prep_time":{"type":"integer","title":"Prep Time"},"cook_time":{"type":"integer","title":"Cook Time"},"difficulty":{"type":"string","title":"Difficulty"},"servings":{"type":"string","title":"Servings"},"slug":{"type":"string","title":"Slug"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"steps":{"items":{"$ref":"#/components/schemas/StepResponse"},"type":"array","title":"Steps","default":[]},"recipe_ingredients":{"items":{"$ref":"#/components/schemas/RecipeIngredientResponse"},"type":"array","title":"Recipe Ingredients","default":[]},"categories":{"items":{"$ref":"#/components/schemas/CategoryResponse"},"type":"array","title":"Categories","default":[]},"is_favorited":{"type":"boolean","title":"Is Favorited","default":false},"is_in_history":{"type":"boolean","title":"Is In History","default":false}},"type":"object","required":["id","title","photo_url","description","protein","fat","carbs","prep_time","cook_time","difficulty","servings","slug","is_active","created_at","updated_at"],"title":"RecipeDetailResponse","description":"Full recipe detail with nested relations and user flags."},"RecipeIngredientResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"ingredient_id":{"type":"string","format":"uuid","title":"Ingredient Id"},"amount":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Amount"},"ingredient":{"anyOf":[{"$ref":"#/components/schemas/IngredientResponse"},{"type":"null"}]}},"type":"object","required":["id","ingredient_id","amount"],"title":"RecipeIngredientResponse","description":"Recipe ingredient with ingredient details."},"RecipeResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"photo_url":{"type":"string","title":"Photo Url"},"description":{"type":"string","title":"Description"},"protein":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Protein"},"fat":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Fat"},"carbs":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Carbs"},"prep_time":{"type":"integer","title":"Prep Time"},"cook_time":{"type":"integer","title":"Cook Time"},"difficulty":{"type":"string","title":"Difficulty"},"servings":{"type":"string","title":"Servings"},"slug":{"type":"string","title":"Slug"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"steps":{"items":{"$ref":"#/components/schemas/StepResponse"},"type":"array","title":"Steps","default":[]},"recipe_ingredients":{"items":{"$ref":"#/components/schemas/RecipeIngredientResponse"},"type":"array","title":"Recipe Ingredients","default":[]},"categories":{"items":{"$ref":"#/components/schemas/CategoryResponse"},"type":"array","title":"Categories","default":[]}},"type":"object","required":["id","title","photo_url","description","protein","fat","carbs","prep_time","cook_time","difficulty","servings","slug","is_active","created_at","updated_at"],"title":"RecipeResponse","description":"Full recipe detail with nested relations."},"RecipeUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Title"},"photo_url":{"anyOf":[{"type":"string","maxLength":2048},{"type":"null"}],"title":"Photo Url"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"protein":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Protein"},"fat":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Fat"},"carbs":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Carbs"},"prep_time":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Prep Time"},"cook_time":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Cook Time"},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"},"servings":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Servings"},"slug":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Slug"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"categories":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Categories","description":"Replace category list"},"ingredients":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Ingredients","description":"Replace ingredient list [{ingredient_id, amount}]"}},"type":"object","title":"RecipeUpdate","description":"Fields allowed for recipe update (all optional)."},"RefreshRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"Valid refresh token"}},"type":"object","required":["refresh_token"],"title":"RefreshRequest","description":"Request body for token refresh."},"RefreshResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"Bearer"},"expires_in":{"type":"integer","title":"Expires In"}},"type":"object","required":["access_token","expires_in"],"title":"RefreshResponse","description":"Response for token refresh."},"StepAdminResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"recipe_id":{"type":"string","format":"uuid","title":"Recipe Id"},"step_number":{"type":"integer","title":"Step Number"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"photo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo Url"},"is_active":{"type":"boolean","title":"Is Active"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","recipe_id","step_number","title","description","photo_url","is_active","slug","created_at","updated_at"],"title":"StepAdminResponse","description":"Admin step representation — all fields."},"StepCreate":{"properties":{"recipe_id":{"type":"string","format":"uuid","title":"Recipe Id","description":"Recipe UUID"},"step_number":{"type":"integer","minimum":1.0,"title":"Step Number","description":"Step order number"},"title":{"type":"string","maxLength":500,"title":"Title","description":"Step title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Step description"},"photo_url":{"anyOf":[{"type":"string","maxLength":2048},{"type":"null"}],"title":"Photo Url","description":"Step photo URL"},"slug":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Slug","description":"URL-friendly slug"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether step is active","default":true}},"type":"object","required":["recipe_id","step_number","title"],"title":"StepCreate","description":"Data required to create a recipe step."},"StepDeleteResponse":{"properties":{"step_id":{"type":"string","format":"uuid","title":"Step Id"},"is_deleted":{"type":"boolean","title":"Is Deleted","default":true}},"type":"object","required":["step_id"],"title":"StepDeleteResponse","description":"Response for step deletion."},"StepResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"recipe_id":{"type":"string","format":"uuid","title":"Recipe Id"},"step_number":{"type":"integer","title":"Step Number"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"photo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo Url"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","recipe_id","step_number","title","description","photo_url","created_at","updated_at"],"title":"StepResponse","description":"Public step representation."},"StepUpdate":{"properties":{"step_number":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Step Number"},"title":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"photo_url":{"anyOf":[{"type":"string","maxLength":2048},{"type":"null"}],"title":"Photo Url"},"slug":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Slug"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"StepUpdate","description":"Fields allowed for step update (all optional)."},"TelegramAuthData":{"properties":{"id":{"type":"integer","title":"Id","description":"Telegram user ID"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name","description":"User's first name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name","description":"User's last name"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username","description":"Telegram username"},"photo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo Url","description":"User's profile photo URL"},"auth_date":{"type":"integer","title":"Auth Date","description":"Unix timestamp of auth"},"hash":{"type":"string","title":"Hash","description":"HMAC hash for verification"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number","description":"Phone number"},"tg_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tg Username","description":"Telegram username alias"}},"type":"object","required":["id","auth_date","hash"],"title":"TelegramAuthData","description":"Data received from Telegram Login Widget."},"UserAdminResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tg_id":{"type":"integer","title":"Tg Id"},"tg_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tg Username"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","tg_id","tg_username","username","phone_number","first_name","last_name","created_at","updated_at"],"title":"UserAdminResponse","description":"Admin view of a user — all fields."},"UserCreate":{"properties":{"tg_id":{"type":"integer","title":"Tg Id","description":"Telegram user ID"},"tg_username":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Tg Username","description":"Telegram username"},"username":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Username","description":"App username"},"phone_number":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Phone Number","description":"Phone number"},"first_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"First Name","description":"First name"},"last_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Last Name","description":"Last name"}},"type":"object","required":["tg_id"],"title":"UserCreate","description":"Data for admin-created user."},"UserDeleteResponse":{"properties":{"user_id":{"type":"string","format":"uuid","title":"User Id"},"is_deleted":{"type":"boolean","title":"Is Deleted","default":true}},"type":"object","required":["user_id"],"title":"UserDeleteResponse","description":"Response for user deletion."},"UserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tg_id":{"type":"integer","title":"Tg Id"},"tg_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tg Username"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","tg_id","tg_username","username","phone_number","first_name","last_name","created_at","updated_at"],"title":"UserResponse","description":"Public user representation."},"UserUpdate":{"properties":{"username":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Username","description":"App username"},"phone_number":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Phone Number","description":"Phone number"},"first_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"First Name","description":"First name"},"last_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Last Name","description":"Last name"}},"type":"object","title":"UserUpdate","description":"Fields allowed for user profile update."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}